(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{12:function(t,e,n){},14:function(t,e,n){"use strict";n.r(e);var i=n(1),c=n.n(i),a=n(7),s=n.n(a),r=(n(12),n(0)),o=function(){return Object(r.jsx)("div",{className:"title-container",children:Object(r.jsx)("h1",{className:"title",children:"Snake Game"})})},u=function(t,e){for(var n=function(){var n=Math.floor(Math.random()*(t-1-1))+1,i=Math.floor(Math.random()*(t-1-1))+1;if(!e.some((function(t){return t.x===n&&t.y===i})))return{v:{x:n,y:i}}};;){var i=n();if("object"===typeof i)return i.v}},l=function(t,e){for(var n=[],i=0;i<t;i++){var c=new Array(t).fill("");n.push(c)}n[e.y][e.x]="snake";var a=u(t,[e]);return n[a.y][a.x]="food",n},d={x:17,y:17},f=l(35,d),b=[1e3,500,100,50,10],j=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),h=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),m=Object.freeze({37:h.left,38:h.up,39:h.right,40:h.down}),O=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),v=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),x=function(t){var e=t.length,n=t.difficulty,i=void 0===n?3:n,c=t.onChangeDifficulty,a=i<b.length?"":"is-hidden",s=i>1?"":"is-hidden";return Object(r.jsxs)("div",{className:"navigation",children:[Object(r.jsxs)("div",{className:"navigation-item",children:[Object(r.jsx)("span",{className:"navigation-label",children:"Lenget: "}),Object(r.jsx)("div",{className:"navigartion-item-number-container",children:Object(r.jsx)("div",{className:"num-board",children:e})})]}),Object(r.jsxs)("div",{className:"navigation-item",children:[Object(r.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(r.jsxs)("div",{className:"navigartion-item-number-container",children:[Object(r.jsx)("span",{className:"num-board",children:i}),Object(r.jsxs)("div",{className:"difficulty-button-container",children:[Object(r.jsx)("div",{className:"difficulty-button difficulty-up ".concat(a),onClick:function(){return c(i+1)}}),Object(r.jsx)("div",{className:"difficulty-button difficulty-down ".concat(s),onClick:function(){return c(i-1)}})]})]})]})]})},p=function(t){var e=t.fields;return Object(r.jsx)("div",{className:"field",children:e.map((function(t){return t.map((function(t){return Object(r.jsx)("div",{className:"dots ".concat(t)})}))}))})},g=function(t){var e=t.status,n=t.onStart,i=t.onStop,c=t.onRestart;return Object(r.jsxs)("div",{className:"button",children:[e===j.gameover&&Object(r.jsx)("button",{className:"btn btn-gameover",onClick:c,children:"gameover"}),e===j.init&&Object(r.jsx)("button",{className:"btn btn-init",onClick:n,children:"start"}),e===j.suspended&&Object(r.jsx)("button",{className:"btn btn-suspended",onClick:n,children:"start"}),e===j.playing&&Object(r.jsx)("button",{className:"btn btn-playing",onClick:i,children:"stop"})]})},y=function(t){var e=t.onChange;return Object(r.jsxs)("div",{className:"manipulation-panel",children:[Object(r.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return e(h.left)},children:"\u2190"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return e(h.up)},children:"\u2191"}),Object(r.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return e(h.down)},children:"\u2193"})]}),Object(r.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return e(h.right)},children:"\u2192"})]})},N=n(6),k=n(2),C=null,w=function(){C&&clearInterval(C)},S=function(){var t=Object(i.useState)(f),e=Object(k.a)(t,2),n=e[0],c=e[1],a=Object(i.useState)([]),s=Object(k.a)(a,2),r=s[0],o=s[1],x=Object(i.useState)(j.init),p=Object(k.a)(x,2),g=p[0],y=p[1],S=Object(i.useState)(h.up),D=Object(k.a)(S,2),E=D[0],z=D[1],I=Object(i.useState)(3),L=Object(k.a)(I,2),M=L[0],F=L[1],A=Object(i.useState)(0),B=Object(k.a)(A,2),J=B[0],P=B[1];Object(i.useEffect)((function(){return o([d]),C=setInterval((function(){P((function(t){return t+1}))}),b[M-1]),w}),[M]),Object(i.useEffect)((function(){0!==r.length&&g===j.playing&&(G()||(w(),y(j.gameover)))}),[J]);var R=Object(i.useCallback)((function(t){g===j.playing&&O[E]!==t&&z(t)}),[E,g]),T=Object(i.useCallback)((function(t){g===j.init&&(t<1||t>b.length||F(t))}),[g]);Object(i.useEffect)((function(){var t=function(t){var e=m[t.keyCode];e&&R(e)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[R]);var G=function(){var t=r[0],e=t.x,i=t.y,a=v[E],s={x:e+a.x,y:i+a.y};if(function(t,e){return e.y<0||e.x<0||e.y>t-1||e.x>t-1}(n.length,s)||function(t,e){return"snake"===t[e.y][e.x]}(n,s))return!1;var l=Object(N.a)(r);if("food"!==n[s.y][s.x]){var d=l.pop();n[d.y][d.x]=""}else{var f=u(n.length,[].concat(Object(N.a)(l),[s]));n[f.y][f.x]="food"}return n[s.y][s.x]="snake",l.unshift(s),o(l),c(n),!0};return{body:r,difficulty:M,fields:n,status:g,start:function(){return y(j.playing)},stop:function(){return y(j.suspended)},reload:function(){C=setInterval((function(){P((function(t){return t+1}))}),100),y(j.init),o([d]),z(h.up),c(l(n.length,d))},updateDirection:R,updateDifficulty:T}};var D=function(){var t=S(),e=t.body,n=t.difficulty,i=t.fields,c=t.start,a=t.stop,s=t.reload,u=t.status,l=t.updateDirection,d=t.updateDifficulty;return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)(o,{}),Object(r.jsx)(x,{length:e.length,difficulty:n,onChangeDifficulty:d})]}),Object(r.jsx)("main",{className:"main",children:Object(r.jsx)(p,{fields:i})}),Object(r.jsxs)("footer",{className:"footer",children:[Object(r.jsx)(g,{status:u,onStop:a,onStart:c,onRestart:s}),Object(r.jsx)(y,{onChange:l})]})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),i(t),c(t),a(t),s(t)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(D,{})}),document.getElementById("root")),E()}},[[14,1,2]]]);
//# sourceMappingURL=main.68272979.chunk.js.map